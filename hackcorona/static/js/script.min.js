const ftSelectComponent=mdc.select.MDCSelect.attachTo(document.querySelector(".mdc-select"));!function(t){"use strict";function e(e,i){this.$select=t(e),this.options=this.mergeOptions(t.extend({},i,this.$select.data())),this.$select.attr("data-placeholder")&&(this.options.nonSelectedText=this.$select.data("placeholder")),this.originalOptions=this.$select.clone()[0].options,this.query="",this.searchTimeout=null,this.lastToggledInput=null,this.options.multiple="multiple"===this.$select.attr("multiple"),this.options.onChange=t.proxy(this.options.onChange,this),this.options.onSelectAll=t.proxy(this.options.onSelectAll,this),this.options.onDeselectAll=t.proxy(this.options.onDeselectAll,this),this.options.onDropdownShow=t.proxy(this.options.onDropdownShow,this),this.options.onDropdownHide=t.proxy(this.options.onDropdownHide,this),this.options.onDropdownShown=t.proxy(this.options.onDropdownShown,this),this.options.onDropdownHidden=t.proxy(this.options.onDropdownHidden,this),this.options.onInitialized=t.proxy(this.options.onInitialized,this),this.options.onFiltering=t.proxy(this.options.onFiltering,this),this.buildContainer(),this.buildButton(),this.buildDropdown(),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.wasDisabled=this.$select.prop("disabled"),this.options.disableIfEmpty&&t("option",this.$select).length<=0&&this.disable(),this.$select.wrap('<span class="multiselect-native-select" />').after(this.$container),this.options.onInitialized(this.$select,this.$container)}"undefined"!=typeof ko&&ko.bindingHandlers&&!ko.bindingHandlers.multiselect&&(ko.bindingHandlers.multiselect={after:["options","value","selectedOptions","enable","disable"],init:function(e,i,s,l,n){var o=t(e),a=ko.toJS(i());if(o.multiselect(a),s.has("options")){var r=s.get("options");ko.isObservable(r)&&ko.computed({read:function(){r(),setTimeout(function(){var t=o.data("multiselect");t&&t.updateOriginalOptions(),o.multiselect("rebuild")},1)},disposeWhenNodeIsRemoved:e})}if(s.has("value")){var c=s.get("value");ko.isObservable(c)&&ko.computed({read:function(){c(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}if(s.has("selectedOptions")){var p=s.get("selectedOptions");ko.isObservable(p)&&ko.computed({read:function(){p(),setTimeout(function(){o.multiselect("refresh")},1)},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0})}var d=function(t){setTimeout(function(){t?o.multiselect("enable"):o.multiselect("disable")})};if(s.has("enable")){var u=s.get("enable");ko.isObservable(u)?ko.computed({read:function(){d(u())},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0}):d(u)}if(s.has("disable")){var h=s.get("disable");ko.isObservable(h)?ko.computed({read:function(){d(!h())},disposeWhenNodeIsRemoved:e}).extend({rateLimit:100,notifyWhenChangesStop:!0}):d(!h)}ko.utils.domNodeDisposal.addDisposeCallback(e,function(){o.multiselect("destroy")})},update:function(e,i,s,l,n){var o=t(e),a=ko.toJS(i());o.multiselect("setOptions",a),o.multiselect("rebuild")}}),e.prototype={defaults:{buttonText:function(e,i){if(this.disabledText.length>0&&(i.prop("disabled")||0==e.length&&this.disableIfEmpty))return this.disabledText;if(0===e.length)return this.nonSelectedText;if(this.allSelectedText&&e.length===t("option",t(i)).length&&1!==t("option",t(i)).length&&this.multiple)return this.selectAllNumber?this.allSelectedText+" ("+e.length+")":this.allSelectedText;if(e.length>this.numberDisplayed)return e.length+" "+this.nSelectedText;var s="",l=this.delimiterText;return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();s+=e+l}),s.substr(0,s.length-this.delimiterText.length)},buttonTitle:function(e,i){if(0===e.length)return this.nonSelectedText;var s="",l=this.delimiterText;return e.each(function(){var e=void 0!==t(this).attr("label")?t(this).attr("label"):t(this).text();s+=e+l}),s.substr(0,s.length-this.delimiterText.length)},checkboxName:function(t){return!1},optionLabel:function(e){return t(e).attr("label")||t(e).text()},optionClass:function(e){return t(e).attr("class")||""},onChange:function(t,e){},onDropdownShow:function(t){},onDropdownHide:function(t){},onDropdownShown:function(t){},onDropdownHidden:function(t){},onSelectAll:function(){},onDeselectAll:function(){},onInitialized:function(t,e){},onFiltering:function(t){},enableHTML:!1,buttonClass:"btn btn-default",inheritClass:!1,buttonWidth:"auto",buttonContainer:'<div class="" />',dropRight:!1,dropUp:!1,selectedClass:"active",maxHeight:!1,includeSelectAllOption:!1,includeSelectAllIfMoreThan:0,selectAllText:" Select all",selectAllValue:"multiselect-all",selectAllName:!1,selectAllNumber:!0,selectAllJustVisible:!0,enableFiltering:!1,enableCaseInsensitiveFiltering:!1,enableFullValueFiltering:!1,enableClickableOptGroups:!1,enableCollapsibleOptGroups:!1,filterPlaceholder:"Search",filterBehavior:"text",includeFilterClearBtn:!0,preventInputChangeEvent:!1,nonSelectedText:"None selected",nSelectedText:"selected",allSelectedText:"All selected",numberDisplayed:3,disableIfEmpty:!1,disabledText:"",delimiterText:", ",templates:{button:'<button type="button" class="multiselect dropdown-toggle btn-block text-left" data-toggle="dropdown"><span class="multiselect-selected-text"></span> <b class="caret"></b></button>',ul:'<ul class="multiselect-container dropdown-menu"></ul>',filter:'<li class="multiselect-item multiselect-filter"><div class="input-group"><span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span><input class="form-control multiselect-search" type="text"></div></li>',filterClearBtn:'<span class="input-group-btn"><button class="btn btn-default multiselect-clear-filter" type="button"><i class="glyphicon glyphicon-remove-circle"></i></button></span>',li:'<li><a tabindex="0"><label></label></a></li>',divider:'<li class="multiselect-item divider"></li>',liGroup:'<li class="multiselect-item multiselect-group"><label></label></li>'}},constructor:e,buildContainer:function(){this.$container=t(this.options.buttonContainer),this.$container.on("show.bs.dropdown",this.options.onDropdownShow),this.$container.on("hide.bs.dropdown",this.options.onDropdownHide),this.$container.on("shown.bs.dropdown",this.options.onDropdownShown),this.$container.on("hidden.bs.dropdown",this.options.onDropdownHidden)},buildButton:function(){this.$button=t(this.options.templates.button).addClass(this.options.buttonClass),this.$select.attr("class")&&this.options.inheritClass&&this.$button.addClass(this.$select.attr("class")),this.$select.prop("disabled")?this.disable():this.enable(),this.options.buttonWidth&&"auto"!==this.options.buttonWidth&&(this.$button.css({width:"100%",overflow:"hidden","text-overflow":"ellipsis"}),this.$container.css({width:this.options.buttonWidth}));var e=this.$select.attr("tabindex");e&&this.$button.attr("tabindex",e),this.$container.prepend(this.$button)},buildDropdown:function(){if(this.$ul=t(this.options.templates.ul),this.options.dropRight&&this.$ul.addClass("pull-right"),this.options.maxHeight&&this.$ul.css({"max-height":this.options.maxHeight+"px","overflow-y":"auto","overflow-x":"hidden"}),this.options.dropUp){var e=Math.min(this.options.maxHeight,26*t('option[data-role!="divider"]',this.$select).length+19*t('option[data-role="divider"]',this.$select).length+(this.options.includeSelectAllOption?26:0)+(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering?44:0)),i=e+34;this.$ul.css({"max-height":e+"px","overflow-y":"auto","overflow-x":"hidden","margin-top":"-"+i+"px"})}this.$container.append(this.$ul)},buildDropdownOptions:function(){this.$select.children().each(t.proxy(function(e,i){var s=t(i),l=s.prop("tagName").toLowerCase();s.prop("value")!==this.options.selectAllValue&&("optgroup"===l?this.createOptgroup(i):"option"===l&&("divider"===s.data("role")?this.createDivider():this.createOptionValue(i)))},this)),t("li:not(.multiselect-group) input",this.$ul).on("change",t.proxy(function(e){var i=t(e.target),s=i.prop("checked")||!1,l=i.val()===this.options.selectAllValue;this.options.selectedClass&&(s?i.closest("li").addClass(this.options.selectedClass):i.closest("li").removeClass(this.options.selectedClass));var n=i.val(),o=this.getOptionByValue(n),a=t("option",this.$select).not(o),r=t("input",this.$container).not(i);if(l?s?this.selectAll(this.options.selectAllJustVisible,!0):this.deselectAll(this.options.selectAllJustVisible,!0):(s?(o.prop("selected",!0),this.options.multiple?o.prop("selected",!0):(this.options.selectedClass&&t(r).closest("li").removeClass(this.options.selectedClass),t(r).prop("checked",!1),a.prop("selected",!1),this.$button.click()),"active"===this.options.selectedClass&&a.closest("a").css("outline","")):o.prop("selected",!1),this.options.onChange(o,s),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()),this.$select.change(),this.updateButtonText(),this.options.preventInputChangeEvent)return!1},this)),t("li a",this.$ul).on("mousedown",function(t){if(t.shiftKey)return!1}),t("li a",this.$ul).on("touchstart click",t.proxy(function(e){e.stopPropagation();var i=t(e.target);if(e.shiftKey&&this.options.multiple){i.is("label")&&(e.preventDefault(),(i=i.find("input")).prop("checked",!i.prop("checked")));var s=i.prop("checked")||!1;if(null!==this.lastToggledInput&&this.lastToggledInput!==i){var l=i.closest("li").index(),n=this.lastToggledInput.closest("li").index();if(l>n){var o=n;n=l,l=o}++n;var a=this.$ul.find("li").slice(l,n).find("input");a.prop("checked",s),this.options.selectedClass&&a.closest("li").toggleClass(this.options.selectedClass,s);for(var r=0,c=a.length;r<c;r++){var p=t(a[r]);this.getOptionByValue(p.val()).prop("selected",s)}}i.trigger("change")}i.is("input")&&!i.closest("li").is(".multiselect-item")&&(this.lastToggledInput=i),i.blur()},this)),this.$container.off("keydown.multiselect").on("keydown.multiselect",t.proxy(function(e){if(!t('input[type="text"]',this.$container).is(":focus"))if(9===e.keyCode&&this.$container.hasClass("open"))this.$button.click();else{var i=t(this.$container).find("li:not(.divider):not(.disabled) a").filter(":visible");if(!i.length)return;var s=i.index(i.filter(":focus"));38===e.keyCode&&s>0?s--:40===e.keyCode&&s<i.length-1?s++:~s||(s=0);var l=i.eq(s);if(l.focus(),32===e.keyCode||13===e.keyCode){var n=l.find("input");n.prop("checked",!n.prop("checked")),n.change()}e.stopPropagation(),e.preventDefault()}},this)),this.options.enableClickableOptGroups&&this.options.multiple&&t("li.multiselect-group input",this.$ul).on("change",t.proxy(function(e){e.stopPropagation();var i=t(e.target).prop("checked")||!1,s=t(e.target).closest("li"),l=s.nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled").find("input"),n=[];this.options.selectedClass&&(i?s.addClass(this.options.selectedClass):s.removeClass(this.options.selectedClass)),t.each(l,t.proxy(function(e,s){var l=t(s).val(),o=this.getOptionByValue(l);i?(t(s).prop("checked",!0),t(s).closest("li").addClass(this.options.selectedClass),o.prop("selected",!0)):(t(s).prop("checked",!1),t(s).closest("li").removeClass(this.options.selectedClass),o.prop("selected",!1)),n.push(this.getOptionByValue(l))},this)),this.options.onChange(n,i),this.updateButtonText(),this.updateSelectAll()},this)),this.options.enableCollapsibleOptGroups&&this.options.multiple&&(t("li.multiselect-group .caret-container",this.$ul).on("click",t.proxy(function(e){var i=t(e.target).closest("li").nextUntil("li.multiselect-group").not(".multiselect-filter-hidden"),s=!0;i.each(function(){s=s&&t(this).is(":visible")}),s?i.hide().addClass("multiselect-collapsible-hidden"):i.show().removeClass("multiselect-collapsible-hidden")},this)),t("li.multiselect-all",this.$ul).css("background","#f3f3f3").css("border-bottom","1px solid #eaeaea"),t("li.multiselect-all > a > label.checkbox",this.$ul).css("padding","3px 20px 3px 35px"),t("li.multiselect-group > a > input",this.$ul).css("margin","4px 0px 5px -20px"))},createOptionValue:function(e){var i=t(e);i.is(":selected")&&i.prop("selected",!0);var s=this.options.optionLabel(e),l=this.options.optionClass(e),n=i.val(),o=this.options.multiple?"checkbox":"radio",a=t(this.options.templates.li),r=t("label",a);r.addClass(o),a.addClass(l),this.options.enableHTML?r.html(" "+s):r.text(" "+s);var c=t("<input/>").attr("type",o),p=this.options.checkboxName(i);p&&c.attr("name",p),r.prepend(c);var d=i.prop("selected")||!1;c.val(n),n===this.options.selectAllValue&&(a.addClass("multiselect-item multiselect-all"),c.parent().parent().addClass("multiselect-all")),r.attr("title",i.attr("title")),this.$ul.append(a),i.is(":disabled")&&c.attr("disabled","disabled").prop("disabled",!0).closest("a").attr("tabindex","-1").closest("li").addClass("disabled"),c.prop("checked",d),d&&this.options.selectedClass&&c.closest("li").addClass(this.options.selectedClass)},createDivider:function(e){var i=t(this.options.templates.divider);this.$ul.append(i)},createOptgroup:function(e){var i=t(e).attr("label"),s=t(e).attr("value"),l=t('<li class="multiselect-item multiselect-group"><a href="javascript:void(0);"><label><b></b></label></a></li>'),n=this.options.optionClass(e);l.addClass(n),this.options.enableHTML?t("label b",l).html(" "+i):t("label b",l).text(" "+i),this.options.enableCollapsibleOptGroups&&this.options.multiple&&t("a",l).append('<span class="caret-container"><b class="caret"></b></span>'),this.options.enableClickableOptGroups&&this.options.multiple&&t("a label",l).prepend('<input type="checkbox" value="'+s+'"/>'),t(e).is(":disabled")&&l.addClass("disabled"),this.$ul.append(l),t("option",e).each(t.proxy(function(t,e){this.createOptionValue(e)},this))},buildSelectAll:function(){if("number"==typeof this.options.selectAllValue&&(this.options.selectAllValue=this.options.selectAllValue.toString()),!this.hasSelectAll()&&this.options.includeSelectAllOption&&this.options.multiple&&t("option",this.$select).length>this.options.includeSelectAllIfMoreThan){this.options.includeSelectAllDivider&&this.$ul.prepend(t(this.options.templates.divider));var e=t(this.options.templates.li);t("label",e).addClass("checkbox"),this.options.enableHTML?t("label",e).html(" "+this.options.selectAllText):t("label",e).text(" "+this.options.selectAllText),this.options.selectAllName?t("label",e).prepend('<input type="checkbox" name="'+this.options.selectAllName+'" />'):t("label",e).prepend('<input type="checkbox" />');var i=t("input",e);i.val(this.options.selectAllValue),e.addClass("multiselect-item multiselect-all"),i.parent().parent().addClass("multiselect-all"),this.$ul.prepend(e),i.prop("checked",!1)}},buildFilter:function(){if(this.options.enableFiltering||this.options.enableCaseInsensitiveFiltering){var e=Math.max(this.options.enableFiltering,this.options.enableCaseInsensitiveFiltering);if(this.$select.find("option").length>=e){if(this.$filter=t(this.options.templates.filter),t("input",this.$filter).attr("placeholder",this.options.filterPlaceholder),this.options.includeFilterClearBtn){var i=t(this.options.templates.filterClearBtn);i.on("click",t.proxy(function(e){clearTimeout(this.searchTimeout),this.$filter.find(".multiselect-search").val(""),t("li",this.$ul).show().removeClass("multiselect-filter-hidden"),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},this)),this.$filter.find(".input-group").append(i)}this.$ul.prepend(this.$filter),this.$filter.val(this.query).on("click",function(t){t.stopPropagation()}).on("input keydown",t.proxy(function(e){13===e.which&&e.preventDefault(),clearTimeout(this.searchTimeout),this.searchTimeout=this.asyncFunction(t.proxy(function(){var i,s;this.query!==e.target.value&&(this.query=e.target.value,t.each(t("li",this.$ul),t.proxy(function(e,l){var n=t("input",l).length>0?t("input",l).val():"",o=t("label",l).text(),a="";if("text"===this.options.filterBehavior?a=o:"value"===this.options.filterBehavior?a=n:"both"===this.options.filterBehavior&&(a=o+"\n"+n),n!==this.options.selectAllValue&&o){var r=!1;if(this.options.enableCaseInsensitiveFiltering&&(a=a.toLowerCase(),this.query=this.query.toLowerCase()),this.options.enableFullValueFiltering&&"both"!==this.options.filterBehavior){var c=a.trim().substring(0,this.query.length);this.query.indexOf(c)>-1&&(r=!0)}else a.indexOf(this.query)>-1&&(r=!0);t(l).toggle(r).toggleClass("multiselect-filter-hidden",!r),t(l).hasClass("multiselect-group")?(i=l,s=r):(r&&t(i).show().removeClass("multiselect-filter-hidden"),!r&&s&&t(l).show().removeClass("multiselect-filter-hidden"))}},this)));this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.onFiltering(e.target)},this),300,this)},this))}}},destroy:function(){this.$container.remove(),this.$select.show(),this.$select.prop("disabled",this.options.wasDisabled),this.$select.data("multiselect",null)},refresh:function(){var e=t.map(t("li input",this.$ul),t);t("option",this.$select).each(t.proxy(function(i,s){for(var l,n=t(s),o=n.val(),a=e.length;0<a--;)if(o===(l=e[a]).val()){n.is(":selected")?(l.prop("checked",!0),this.options.selectedClass&&l.closest("li").addClass(this.options.selectedClass)):(l.prop("checked",!1),this.options.selectedClass&&l.closest("li").removeClass(this.options.selectedClass)),n.is(":disabled")?l.attr("disabled","disabled").prop("disabled",!0).closest("li").addClass("disabled"):l.prop("disabled",!1).closest("li").removeClass("disabled");break}},this)),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},select:function(e,i){t.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var l=e[s];if(null!=l){var n=this.getOptionByValue(l),o=this.getInputByValue(l);void 0!==n&&void 0!==o&&(this.options.multiple||this.deselectAll(!1),this.options.selectedClass&&o.closest("li").addClass(this.options.selectedClass),o.prop("checked",!0),n.prop("selected",!0),i&&this.options.onChange(n,!0))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},clearSelection:function(){this.deselectAll(!1),this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},deselect:function(e,i){t.isArray(e)||(e=[e]);for(var s=0;s<e.length;s++){var l=e[s];if(null!=l){var n=this.getOptionByValue(l),o=this.getInputByValue(l);void 0!==n&&void 0!==o&&(this.options.selectedClass&&o.closest("li").removeClass(this.options.selectedClass),o.prop("checked",!1),n.prop("selected",!1),i&&this.options.onChange(n,!1))}}this.updateButtonText(),this.updateSelectAll(),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups()},selectAll:function(e,i){e=void 0===e||e;var s=t("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),l=t("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");e?(t("input:enabled",l).prop("checked",!0),l.addClass(this.options.selectedClass),t("input:enabled",l).each(t.proxy(function(e,i){var s=t(i).val(),l=this.getOptionByValue(s);t(l).prop("selected",!0)},this))):(t("input:enabled",s).prop("checked",!0),s.addClass(this.options.selectedClass),t("input:enabled",s).each(t.proxy(function(e,i){var s=t(i).val(),l=this.getOptionByValue(s);t(l).prop("selected",!0)},this))),t('li input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),i&&this.options.onSelectAll()},deselectAll:function(e,i){e=void 0===e||e;var s=t("li:not(.divider):not(.disabled):not(.multiselect-group)",this.$ul),l=t("li:not(.divider):not(.disabled):not(.multiselect-group):not(.multiselect-filter-hidden):not(.multiselect-collapisble-hidden)",this.$ul).filter(":visible");e?(t('input[type="checkbox"]:enabled',l).prop("checked",!1),l.removeClass(this.options.selectedClass),t('input[type="checkbox"]:enabled',l).each(t.proxy(function(e,i){var s=t(i).val(),l=this.getOptionByValue(s);t(l).prop("selected",!1)},this))):(t('input[type="checkbox"]:enabled',s).prop("checked",!1),s.removeClass(this.options.selectedClass),t('input[type="checkbox"]:enabled',s).each(t.proxy(function(e,i){var s=t(i).val(),l=this.getOptionByValue(s);t(l).prop("selected",!1)},this))),t('li input[value="'+this.options.selectAllValue+'"]',this.$ul).prop("checked",!1),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),i&&this.options.onDeselectAll()},rebuild:function(){this.$ul.html(""),this.options.multiple="multiple"===this.$select.attr("multiple"),this.buildSelectAll(),this.buildDropdownOptions(),this.buildFilter(),this.updateButtonText(),this.updateSelectAll(!0),this.options.enableClickableOptGroups&&this.options.multiple&&this.updateOptGroups(),this.options.disableIfEmpty&&t("option",this.$select).length<=0?this.disable():this.enable(),this.options.dropRight&&this.$ul.addClass("pull-right")},dataprovider:function(e){var i=0,s=this.$select.empty();t.each(e,function(e,l){var n;if(t.isArray(l.children))i++,n=t("<optgroup/>").attr({label:l.label||"Group "+i,disabled:!!l.disabled}),function(t,e){for(var i=0;i<t.length;++i)e(t[i],i)}(l.children,function(e){var i={value:e.value,label:e.label||e.value,title:e.title,selected:!!e.selected,disabled:!!e.disabled};for(var s in e.attributes)i["data-"+s]=e.attributes[s];n.append(t("<option/>").attr(i))});else{var o={value:l.value,label:l.label||l.value,title:l.title,class:l.class,selected:!!l.selected,disabled:!!l.disabled};for(var a in l.attributes)o["data-"+a]=l.attributes[a];(n=t("<option/>").attr(o)).text(l.label||l.value)}s.append(n)}),this.rebuild()},enable:function(){this.$select.prop("disabled",!1),this.$button.prop("disabled",!1).removeClass("disabled")},disable:function(){this.$select.prop("disabled",!0),this.$button.prop("disabled",!0).addClass("disabled")},setOptions:function(t){this.options=this.mergeOptions(t)},mergeOptions:function(e){return t.extend(!0,{},this.defaults,this.options,e)},hasSelectAll:function(){return t("li.multiselect-all",this.$ul).length>0},updateOptGroups:function(){var e=t("li.multiselect-group",this.$ul),i=this.options.selectedClass;e.each(function(){var e=t(this).nextUntil("li.multiselect-group").not(".multiselect-filter-hidden").not(".disabled"),s=!0;e.each(function(){t("input",this).prop("checked")||(s=!1)}),i&&(s?t(this).addClass(i):t(this).removeClass(i)),t("input",this).prop("checked",s)})},updateSelectAll:function(e){if(this.hasSelectAll()){var i=t("li:not(.multiselect-item):not(.multiselect-filter-hidden):not(.multiselect-group):not(.disabled) input:enabled",this.$ul),s=i.length,l=i.filter(":checked").length,n=t("li.multiselect-all",this.$ul),o=n.find("input");l>0&&l===s?(o.prop("checked",!0),n.addClass(this.options.selectedClass)):(o.prop("checked",!1),n.removeClass(this.options.selectedClass))}},updateButtonText:function(){var e=this.getSelected();this.options.enableHTML?t(".multiselect .multiselect-selected-text",this.$container).html(this.options.buttonText(e,this.$select)):t(".multiselect .multiselect-selected-text",this.$container).text(this.options.buttonText(e,this.$select)),t(".multiselect",this.$container).attr("title",this.options.buttonTitle(e,this.$select))},getSelected:function(){return t("option",this.$select).filter(":selected")},getOptionByValue:function(e){for(var i=t("option",this.$select),s=e.toString(),l=0;l<i.length;l+=1){var n=i[l];if(n.value===s)return t(n)}},getInputByValue:function(e){for(var i=t("li input:not(.multiselect-search)",this.$ul),s=e.toString(),l=0;l<i.length;l+=1){var n=i[l];if(n.value===s)return t(n)}},updateOriginalOptions:function(){this.originalOptions=this.$select.clone()[0].options},asyncFunction:function(t,e,i){var s=Array.prototype.slice.call(arguments,3);return setTimeout(function(){t.apply(i||window,s)},e)},setAllSelectedText:function(t){this.options.allSelectedText=t,this.updateButtonText()}},t.fn.multiselect=function(i,s,l){return this.each(function(){var n=t(this).data("multiselect");n||(n=new e(this,"object"==typeof i&&i),t(this).data("multiselect",n)),"string"==typeof i&&(n[i](s,l),"destroy"===i&&t(this).data("multiselect",!1))})},t.fn.multiselect.Constructor=e,t(function(){t("select[data-role=multiselect]").multiselect()})}(window.jQuery),$(function(){$(".multiselect-ui").multiselect({includeSelectAllOption:!0})});var multi=function(){var t=function(t,e,i){var s=t.options[e.target.getAttribute("multi-index")];if(!s.disabled){s.selected=!s.selected;var l,n,o=i.limit;if(o>-1){for(var a=0,r=0;r<t.options.length;r++)t.options[r].selected&&a++;if(a===o)for(this.disabled_limit=!0,"function"==typeof i.limit_reached&&i.limit_reached(),r=0;r<t.options.length;r++)(c=t.options[r]).selected||c.setAttribute("disabled",!0);else if(this.disabled_limit){for(r=0;r<t.options.length;r++){var c;"false"===(c=t.options[r]).getAttribute("data-origin-disabled")&&c.removeAttribute("disabled")}this.disabled_limit=!1}}"change",l=t,(n=document.createEvent("HTMLEvents")).initEvent("change",!1,!0),l.dispatchEvent(n)}},e=function(t,e){if(t.wrapper.selected.innerHTML="",t.wrapper.non_selected.innerHTML="",e.non_selected_header&&e.selected_header){var i=document.createElement("div"),s=document.createElement("div");i.className="header",s.className="header",i.innerText=e.non_selected_header,s.innerText=e.selected_header,t.wrapper.non_selected.appendChild(i),t.wrapper.selected.appendChild(s)}if(t.wrapper.search)var l=t.wrapper.search.value;for(var n=null,o=null,a=0;a<t.options.length;a++){var r=t.options[a],c=r.value,p=r.textContent||r.innerText,d=document.createElement("a");if(d.tabIndex=0,d.className="item",d.innerText=p,d.setAttribute("role","button"),d.setAttribute("data-value",c),d.setAttribute("multi-index",a),r.disabled&&(d.className+=" disabled"),r.selected){d.className+=" selected";var u=d.cloneNode(!0);t.wrapper.selected.appendChild(u)}if("OPTGROUP"==r.parentNode.nodeName&&r.parentNode!=o){if(o=r.parentNode,(n=document.createElement("div")).className="item-group",r.parentNode.label){var h=document.createElement("span");h.innerHTML=r.parentNode.label,h.className="group-label",n.appendChild(h)}t.wrapper.non_selected.appendChild(n)}r.parentNode==t&&(n=null,o=null),(!l||l&&p.toLowerCase().indexOf(l.toLowerCase())>-1)&&(null!=n?n.appendChild(d):t.wrapper.non_selected.appendChild(d))}};return function(i,s){if((s=void 0!==s?s:{}).enable_search=void 0===s.enable_search||s.enable_search,s.search_placeholder=void 0!==s.search_placeholder?s.search_placeholder:"Search...",s.non_selected_header=void 0!==s.non_selected_header?s.non_selected_header:null,s.selected_header=void 0!==s.selected_header?s.selected_header:null,s.limit=void 0!==s.limit?parseInt(s.limit):-1,isNaN(s.limit)&&(s.limit=-1),null==i.dataset.multijs&&"SELECT"==i.nodeName&&i.multiple){i.style.display="none",i.setAttribute("data-multijs",!0);var l=document.createElement("div");if(l.className="multi-wrapper",s.enable_search){var n=document.createElement("input");n.className="search-input",n.type="text",n.setAttribute("placeholder",s.search_placeholder),n.addEventListener("input",function(){e(i,s)}),l.appendChild(n),l.search=n}var o=document.createElement("div");o.className="non-selected-wrapper";var a=document.createElement("div");a.className="selected-wrapper",l.addEventListener("click",function(e){e.target.getAttribute("multi-index")&&t(i,e,s)}),l.addEventListener("keypress",function(e){var l=32===e.keyCode||13===e.keyCode;e.target.getAttribute("multi-index")&&l&&(e.preventDefault(),t(i,e,s))}),l.appendChild(o),l.appendChild(a),l.non_selected=o,l.selected=a,i.wrapper=l,i.parentNode.insertBefore(l,i.nextSibling);for(var r=0;r<i.options.length;r++){var c=i.options[r];c.setAttribute("data-origin-disabled",c.disabled)}e(i,s),i.addEventListener("change",function(){e(i,s)})}}}();"undefined"!=typeof jQuery&&function(t){t.fn.multi=function(e){return e=void 0!==e?e:{},this.each(function(){var i=t(this);multi(i.get(0),e)})}}(jQuery),$(document).ready(function(){$("#multiple_user").formSelect()}),$(".chosen").select2();class SelectBox{constructor(){this.getNodes(),this.addEventListeners()}getNodes(){this.title=document.querySelector(".selectbox-title"),this.links=Array.from(document.querySelectorAll(".selectbox-link")),this.resultNodes=Array.from(document.querySelectorAll(".selectbox-result"))}addEventListeners(){this.links.map(t=>t.addEventListener("click",this.changeContent.bind(this)))}changeContent(t){t.preventDefault();const e=t.target.closest("a"),i=e.cloneNode(!0);i.querySelector("span").remove();const s=this.title.lastChild.cloneNode(!0);this.title.innerHTML=i.textContent,this.title.appendChild(s),this.title.click();const l=this.links.indexOf(e);this.showResult(l)}showResult(t){this.resultNodes.map(t=>t.classList.remove("selectbox-result-show")),this.resultNodes[t].classList.add("selectbox-result-show")}}const selectBox=new SelectBox;window.Modernizr=function(t,e,i){function s(t){f.cssText=t}function l(t,e){return typeof t===e}function n(t,e){return!!~(""+t).indexOf(e)}function o(t,e){for(var s in t){var l=t[s];if(!n(l,"-")&&f[l]!==i)return"pfx"!=e||l}return!1}function a(t,e,s){for(var n in t){var o=e[t[n]];if(o!==i)return!1===s?t[n]:l(o,"function")?o.bind(s||e):o}return!1}function r(t,e,i){var s=t.charAt(0).toUpperCase()+t.slice(1),n=(t+" "+b.join(s+" ")+s).split(" ");return l(e,"string")||l(e,"undefined")?o(n,e):a(n=(t+" "+v.join(s+" ")+s).split(" "),e,i)}var c,p,d={},u=e.documentElement,h=e.createElement("modernizr"),f=h.style,m="Webkit Moz O ms",b=m.split(" "),v=m.toLowerCase().split(" "),g={},C=[],y=C.slice,x={}.hasOwnProperty;for(var $ in p=l(x,"undefined")||l(x.call,"undefined")?function(t,e){return e in t&&l(t.constructor.prototype[e],"undefined")}:function(t,e){return x.call(t,e)},Function.prototype.bind||(Function.prototype.bind=function(t){var e=this;if("function"!=typeof e)throw new TypeError;var i=y.call(arguments,1),s=function(){if(this instanceof s){var l=function(){};l.prototype=e.prototype;var n=new l,o=e.apply(n,i.concat(y.call(arguments)));return Object(o)===o?o:n}return e.apply(t,i.concat(y.call(arguments)))};return s}),g.cssanimations=function(){return r("animationName")},g.csstransforms=function(){return!!r("transform")},g)p(g,$)&&(c=$.toLowerCase(),d[c]=g[$](),C.push((d[c]?"":"no-")+c));return d.addTest=function(t,e){if("object"==typeof t)for(var s in t)p(t,s)&&d.addTest(s,t[s]);else{if(t=t.toLowerCase(),d[t]!==i)return d;e="function"==typeof e?e():e,u.className+=" "+(e?"":"no-")+t,d[t]=e}return d},s(""),h=null,function(t,e){function i(){var t=f.elements;return"string"==typeof t?t.split(" "):t}function s(t){var e=h[t[d]];return e||(e={},u++,t[d]=u,h[u]=e),e}function l(t,i,l){return i||(i=e),a?i.createElement(t):(l||(l=s(i)),(n=l.cache[t]?l.cache[t].cloneNode():p.test(t)?(l.cache[t]=l.createElem(t)).cloneNode():l.createElem(t)).canHaveChildren&&!c.test(t)?l.frag.appendChild(n):n);var n}function n(t){t||(t=e);var n=s(t);return f.shivCSS&&!o&&!n.hasCSS&&(n.hasCSS=!!function(t,e){var i=t.createElement("p"),s=t.getElementsByTagName("head")[0]||t.documentElement;return i.innerHTML="x<style>"+e+"</style>",s.insertBefore(i.lastChild,s.firstChild)}(t,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")),a||function(t,e){e.cache||(e.cache={},e.createElem=t.createElement,e.createFrag=t.createDocumentFragment,e.frag=e.createFrag()),t.createElement=function(i){return f.shivMethods?l(i,t,e):e.createElem(i)},t.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+i().join().replace(/\w+/g,function(t){return e.createElem(t),e.frag.createElement(t),'c("'+t+'")'})+");return n}")(f,e.frag)}(t,n),t}var o,a,r=t.html5||{},c=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,p=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,d="_html5shiv",u=0,h={};!function(){try{var t=e.createElement("a");t.innerHTML="<xyz></xyz>",o="hidden"in t,a=1==t.childNodes.length||function(){e.createElement("a");var t=e.createDocumentFragment();return void 0===t.cloneNode||void 0===t.createDocumentFragment||void 0===t.createElement}()}catch(t){o=!0,a=!0}}();var f={elements:r.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",shivCSS:!1!==r.shivCSS,supportsUnknownElements:a,shivMethods:!1!==r.shivMethods,type:"default",shivDocument:n,createElement:l,createDocumentFragment:function(t,l){if(t||(t=e),a)return t.createDocumentFragment();for(var n=(l=l||s(t)).frag.cloneNode(),o=0,r=i(),c=r.length;o<c;o++)n.createElement(r[o]);return n}};t.html5=f,n(e)}(this,e),d._version="2.6.2",d._domPrefixes=v,d._cssomPrefixes=b,d.testProp=function(t){return o([t])},d.testAllProps=r,d.prefixed=function(t,e,i){return e?r(t,e,i):r(t,"pfx")},u.className=u.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+" js "+C.join(" "),d}(0,this.document),function(t,e,i){function s(t){return"[object Function]"==b.call(t)}function l(t){return"string"==typeof t}function n(){}function o(t){return!t||"loaded"==t||"complete"==t||"uninitialized"==t}function a(){var t=v.shift();g=1,t?t.t?f(function(){("c"==t.t?u.injectCss:u.injectJs)(t.s,0,t.a,t.x,t.e,1)},0):(t(),a()):g=0}function r(t,i,s,l,n,r,c){function p(e){if(!h&&o(d.readyState)&&(C.r=h=1,!g&&a(),d.onload=d.onreadystatechange=null,e))for(var s in"img"!=t&&f(function(){x.removeChild(d)},50),S[i])S[i].hasOwnProperty(s)&&S[i][s].onload()}c=c||u.errorTimeout;var d=e.createElement(t),h=0,b=0,C={t:s,s:i,e:n,a:r,x:c};1===S[i]&&(b=1,S[i]=[]),"object"==t?d.data=i:(d.src=i,d.type=t),d.width=d.height="0",d.onerror=d.onload=d.onreadystatechange=function(){p.call(this,b)},v.splice(l,0,C),"img"!=t&&(b||2===S[i]?(x.insertBefore(d,y?null:m),f(p,c)):S[i].push(d))}function c(t,e,i,s,n){return g=0,e=e||"j",l(t)?r("c"==e?w:$,t,e,this.i++,i,s,n):(v.splice(this.i++,0,t),1==v.length&&a()),this}function p(){var t=u;return t.loader={load:c,i:0},t}var d,u,h=e.documentElement,f=t.setTimeout,m=e.getElementsByTagName("script")[0],b={}.toString,v=[],g=0,C="MozAppearance"in h.style,y=C&&!!e.createRange().compareNode,x=y?h:m.parentNode,$=(h=t.opera&&"[object Opera]"==b.call(t.opera),h=!!e.attachEvent&&!h,C?"object":h?"script":"img"),w=h?"script":$,k=Array.isArray||function(t){return"[object Array]"==b.call(t)},A=[],S={},O={timeout:function(t,e){return e.length&&(t.timeout=e[0]),t}};(u=function(t){function e(t,e,l,n,o){var a=function(t){t=t.split("!");var e,i,s,l=A.length,n=t.pop(),o=t.length;for(n={url:n,origUrl:n,prefixes:t},i=0;i<o;i++)s=t[i].split("="),(e=O[s.shift()])&&(n=e(n,s));for(i=0;i<l;i++)n=A[i](n);return n}(t),r=a.autoCallback;a.url.split(".").pop().split("?").shift(),a.bypass||(e&&(e=s(e)?e:e[t]||e[n]||e[t.split("/").pop().split("?")[0]]),a.instead?a.instead(t,e,l,n,o):(S[a.url]?a.noexec=!0:S[a.url]=1,l.load(a.url,a.forceCSS||!a.forceJS&&"css"==a.url.split(".").pop().split("?").shift()?"c":i,a.noexec,a.attrs,a.timeout),(s(e)||s(r))&&l.load(function(){p(),e&&e(a.origUrl,o,n),r&&r(a.origUrl,o,n),S[a.url]=2})))}function o(t,i){function o(t,n){if(t){if(l(t))n||(d=function(){var t=[].slice.call(arguments);u.apply(this,t),h()}),e(t,d,i,0,c);else if(Object(t)===t)for(r in a=function(){var e,i=0;for(e in t)t.hasOwnProperty(e)&&i++;return i}(),t)t.hasOwnProperty(r)&&(!n&&!--a&&(s(d)?d=function(){var t=[].slice.call(arguments);u.apply(this,t),h()}:d[r]=function(t){return function(){var e=[].slice.call(arguments);t&&t.apply(this,e),h()}}(u[r])),e(t[r],d,i,r,c))}else!n&&h()}var a,r,c=!!t.test,p=t.load||t.both,d=t.callback||n,u=d,h=t.complete||n;o(c?t.yep:t.nope,!!p),p&&o(p)}var a,r,c=this.yepnope.loader;if(l(t))e(t,0,c,0);else if(k(t))for(a=0;a<t.length;a++)l(r=t[a])?e(r,0,c,0):k(r)?u(r):Object(r)===r&&o(r,c);else Object(t)===t&&o(t,c)}).addPrefix=function(t,e){O[t]=e},u.addFilter=function(t){A.push(t)},u.errorTimeout=1e4,null==e.readyState&&e.addEventListener&&(e.readyState="loading",e.addEventListener("DOMContentLoaded",d=function(){e.removeEventListener("DOMContentLoaded",d,0),e.readyState="complete"},0)),t.yepnope=p(),t.yepnope.executeStack=a,t.yepnope.injectJs=function(t,i,s,l,r,c){var p,d,h=e.createElement("script");l=l||u.errorTimeout;for(d in h.src=t,s)h.setAttribute(d,s[d]);i=c?a:i||n,h.onreadystatechange=h.onload=function(){!p&&o(h.readyState)&&(p=1,i(),h.onload=h.onreadystatechange=null)},f(function(){p||(p=1,i(1))},l),r?h.onload():m.parentNode.insertBefore(h,m)},t.yepnope.injectCss=function(t,i,s,l,o,r){var c;l=e.createElement("link"),i=r?a:i||n;for(c in l.href=t,l.rel="stylesheet",l.type="text/css",s)l.setAttribute(c,s[c]);o||(m.parentNode.insertBefore(l,m),f(i,0))}}(this,document),Modernizr.load=function(){yepnope.apply(window,[].slice.call(arguments,0))},function(t,e,i){"use strict";t.CatSlider=function(e,i){this.$el=t(i),this._init(e)},t.CatSlider.prototype={_init:function(t){this.$categories=this.$el.children("ul"),this.$navcategories=this.$el.find("nav > a");this.animEndEventName={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"}[Modernizr.prefixed("animation")],this.support=Modernizr.csstransforms&&Modernizr.cssanimations,this.isAnimating=!1,this.current=0;var e=this.$categories.eq(0);this.support?e.addClass("mi-current"):(this.$categories.hide(),e.show()),this.$navcategories.eq(0).addClass("mi-selected"),this._initEvents()},_initEvents:function(){var i=this;this.$navcategories.on("click.catslider",function(){return i.showCategory(t(this).index()),!1}),t(e).on("resize",function(){i.$categories.removeClass().eq(0).addClass("mi-current"),i.$navcategories.eq(i.current).removeClass("mi-selected").end().eq(0).addClass("mi-selected"),i.current=0})},showCategory:function(e){if(e===this.current||this.isAnimating)return!1;this.isAnimating=!0,this.$navcategories.eq(this.current).removeClass("mi-selected").end().eq(e).addClass("mi-selected");var i=e>this.current?"right":"left",s="right"===i?"mi-moveToLeft":"mi-moveToRight",l="right"===i?"mi-moveFromRight":"mi-moveFromLeft",n=this.$categories.eq(this.current),o=this.$categories.eq(e),a=o.children(),r="right"===i?a.length-1:0,c=this;this.support?(n.removeClass().addClass(s),setTimeout(function(){o.removeClass().addClass(l),a.eq(r).on(c.animEndEventName,function(){t(this).off(c.animEndEventName),o.addClass("mi-current"),c.current=e;var i=t(this);c.forceRedraw(i.get(0)),c.isAnimating=!1})},90*a.length)):(n.hide(),o.show(),this.current=e,this.isAnimating=!1)},forceRedraw:function(t){if(t){var e=document.createTextNode(" "),i=t.style.position;t.appendChild(e),t.style.position="relative",setTimeout(function(){t.style.position=i,e.parentNode.removeChild(e)},25)}}},t.fn.catslider=function(e){var i=t.data(this,"catslider");if("string"==typeof e){var s=Array.prototype.slice.call(arguments,1);this.each(function(){i[e].apply(i,s)})}else this.each(function(){i?i._init():i=t.data(this,"catslider",new t.CatSlider(e,this))});return i}}(jQuery,window);